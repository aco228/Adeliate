@model Adeliate.Portal.Models.Administration.AllAffiliateModel

@{
  ViewBag.Title = "EditAffiliate";
  Layout = "~/Views/_Shared/Layouts/_Main.cshtml";
 }
<ol class="breadcrumb mb-0">
  <li class="breadcrumb-item">Home</li>
  <li class="breadcrumb-item">
    <a href="#">Admin</a>
  </li>
  <li class="breadcrumb-item active">Dashboard</li>
</ol>
<div class="container-fluid">
  <div class="animated fadeIn">
    <div class="row">
      
      <table class="table table-hover table-outline mb-0 hidden-sm-down">
        <thead class="thead-default">
          <tr>
            <th class="text-center">
              
            </th>
            <th>Name</th>
            <th>Affiliate Type</th>
            <th>Description</th>
            <th class="text-center">Contact</th>
            <th>Website</th>
            <th class="text-center">Is Active</th>
            <th class="text-center">
            </th>
          </tr>
        </thead>
        <tbody style="background:white;">
          @foreach (var item in Model.Affiliates)
          {
            <tr style="cursor:pointer;" class="affiliate" affiliateID="@item.ID">
              <td class="text-center">
                
                  <span>@item.ID</span>
                
              </td>
              <td>
                <span>@item.Name</span>
              </td>
              <td>
                <span>@item.AffiliateType.Name</span>
              </td>
              <td>
                <span>@item.Description</span>
              </td>
              <td class="text-center">
                <span>@item.Contact</span>
              </td>
              <td>
                <span>@item.WebsiteUrl</span>
              </td>
              <td class="text-center">
                <span>@item.IsActive</span>
              </td>
              <td class="text-center">
                <button type="button" class="btn btn-danger btnEdit"  style="cursor:pointer;">Edit</button>
                <button type="button" class="btn btn-warning btnEditOffers" style="cursor:pointer;">Edit Offers</button>
              </td>
            </tr>
          }
         
    
        </tbody>
      </table>

    </div>
    <!--/.row-->

  </div>
  <div class="modal fade" id="primaryModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add new affiliate</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <p>Are you sure want to add new affiliate?</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-primary" id="add">Add</button>
        </div>
      </div>
    </div>
  </div>



</div>

<script>
  $(document).ready(function () {


    $('.btnEdit').click(function () {
      var parent = $(this).closest('.affiliate');
      var id = parent.attr('affiliateID');
      window.location = "/adminAffiliateEdit?id=" + id;
    });

    $('.btnEditOffers').click(function () {
      var parent = $(this).closest('.affiliate');
      var id = parent.attr('affiliateID');

      window.location = "/AdminAffiliate/AffiliateOffer?id=" + id;
    });

  });
</script>

